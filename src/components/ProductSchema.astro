---
export interface Props {
  name: string;
  description: string;
  image: string;
  sku?: string;
  brand?: string;
  price: number;
  currency?: string;
  availability?: string; // https://schema.org/InStock, https://schema.org/OutOfStock
}

const {
  name,
  description,
  image,
  sku,
  brand = "Narzo Store",
  price,
  currency = "IDR",
  availability = "https://schema.org/InStock"
} = Astro.props;

const schema = {
  "@context": "https://schema.org",
  "@type": "Product",
  "name": name,
  "image": image,
  "description": description,
  "sku": sku || name.toLowerCase().replace(/ /g, '-'),
  "brand": {
    "@type": "Brand",
    "name": brand
  },
  "offers": {
    "@type": "Offer",
    "url": Astro.url.href,
    "priceCurrency": currency,
    "price": price,
    "availability": availability
  }
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
